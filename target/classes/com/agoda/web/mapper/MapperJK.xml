<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.agoda.web.mapper.MapperJK">
	<select id="exist" resultType="int" parameterType="com.agoda.web.common.Command">
		SELECT COUNT(*) FROM ${table} WHERE id like #{data1}
	</select>
	<select id="select" resultType="com.agoda.web.youjin.Member" parameterType="com.agoda.web.common.Command">
		SELECT * FROM ${table} WHERE id like #{data1} AND pw like #{data2}
	</select>
	<select id="selectAll" resultType="com.agoda.web.youjin.Member" parameterType="com.agoda.web.common.Command">
		SELECT * FROM ${table}
	</select>
	<update id="update">
		UPDATE ${table} SET
		pw = #{member.pw} 
		<if test="#{member.email} != null">
			, email = #{member.email} 
		</if>
		<if test="#{member.phone} != null">
			, phone = #{member.phone} 
		</if>
		WHERE id like #{member.id}
	</update>
	<insert id="insert" parameterType="com.agoda.web.common.Command">
		INSERT INTO ${table} VALUES (#{member.id}, #{member.pw}, #{member.name}, #{member.email}, #{member.phone})
	</insert>
	<delete id="delete" parameterType="com.agoda.web.common.Command">
		DELETE FROM ${table} WHERE id like #{data1}
	</delete>
	<select id="search" resultType="com.agoda.web.youjin.Member" parameterType="com.agoda.web.common.Command">
		SELECT * FROM ${table} WHERE ${data1} like CONCAT('%', #{data2}, '%')
	</select>
</mapper>